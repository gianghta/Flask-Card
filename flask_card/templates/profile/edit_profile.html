{% extends "base.html" %}
{% from 'partials/profile_tabs.html' import show_profile_tabs with context %}

{% block content %}
<section class="section">
  <div class="container">
      <div class="columns">
        <div class="column">
          <div class="container">
              <h1 class="title is-1">{{user.username}}</h1>
              <figure class="image is-128x128">
                  <img class="is-rounded" src="https://bulma.io/images/placeholders/128x128.png">
              </figure>
              <br />
              <h6 class="title is-6 has-text-left">Upload a different photo...</h6>
              <div class="file">
                  <label class="file-label">
                      <input class="file-input" type="file" name="resume">
                      <span class="file-cta">
                      <span class="file-icon">
                          <i class="fas fa-upload"></i>
                      </span>
                      <span class="file-label">
                          Choose a fileâ€¦
                      </span>
                      </span>
                  </label>
              </div>
          </div>
        </div>
        <div class="column is-two-thirds">
          {{show_profile_tabs('edit')}}
          <form method="POST">
            {{form.hidden_tag()}}
            {% for message in get_flashed_messages() %}
                <div class="notification is-success is-light">
                    {{ message }}
                </div>
            {% endfor %}
            <div class="field">
              <label class="label">Username</label>
              <div class="control has-icons-left has-icons-right">
                {{form.name(class_="input", type="text", placeholder="Your Name", autofocus="")}}
                <span class="icon is-small is-left">
                  <i class="fas fa-user"></i>
                </span>
              </div>
            </div>
            {% if form.name.errors %}
            <ul class="errors">
                {% for error in form.name.errors %}<li>{{ error }}</li>{% endfor %}
            </ul>
            {% endif %}
            
            <div class="field">
              <label class="label">Email</label>
              <div class="control has-icons-left has-icons-right">
                {{form.email(class_="input", type="email", placeholder="Your Email")}}
                <span class="icon is-small is-left">
                  <i class="fas fa-envelope"></i>
                </span>
              </div>
            </div>
            {% if form.email.errors %}
            <ul class="errors">
                {% for error in form.email.errors %}<li>{{ error }}</li>{% endfor %}
            </ul>
            {% endif %}

            <div class="field">
              <label class="label">Password</label>
              <div class="control has-icons-left has-icons-right">
                {{form.password(class_="input", type="password", placeholder="Your Password")}}
                <span class="icon is-small is-left">
                  <i class="fas fa-key"></i>
                </span>
              </div>
            </div>
            {% if form.password.errors %}
            <ul class="errors">
                {% for error in form.password.errors %}<li>{{ error }}</li>{% endfor %}
            </ul>
            {% endif %}

            <div class="field">
              <label class="label">Confirm Password</label>
              <div class="control has-icons-left has-icons-right">
                {{form.pass_confirm(class_="input", type="password", placeholder="Confirm Password")}}
                <span class="icon is-small is-left">
                  <i class="fas fa-key"></i>
                </span>
              </div>
            </div>
            {% if form.pass_confirm.errors %}
            <ul class="errors">
                {% for error in form.pass_confirm.errors %}<li>{{ error }}</li>{% endfor %}
            </ul>
            {% endif %}
            
            <div class="field is-grouped">
              <div class="control">
                {{form.submit(class_="button is-block is-success is-fullwidth")}}
              </div>
            </div>
          </form>
        </div>
    </div>
    <div class="column">
        
    </div>
  </div>
</section>
{% endblock %}